(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{448:function(e,t,v){"use strict";v.r(t);var o=v(32),_=Object(o.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"this-的指向"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#this-的指向"}},[e._v("#")]),e._v(" 'this'的指向")]),e._v(" "),v("p",[e._v("首先是James k nelson 在他的博客中提到的 the 5 rules of "),v("code",[e._v("this")]),e._v(":")]),e._v(" "),v("ol",[v("li",[e._v("When a function is called as a method of an object, e.g. "),v("code",[e._v("obj.someFunction()")]),e._v(", the value of "),v("code",[e._v("this")]),e._v(" within that function will be the object on which it was called.")]),e._v(" "),v("li",[e._v("When a function is called using its "),v("code",[e._v("call()")]),e._v(" or "),v("code",[e._v("apply()")]),e._v(" methods. the value of "),v("code",[e._v("this")]),e._v(" inside the function is provided as the first argument to "),v("code",[e._v("call()")]),e._v(" or "),v("code",[e._v("apply()")]),e._v(".")]),e._v(" "),v("li",[e._v("When a function is called by itself (i.e. without a leading "),v("code",[e._v(".")]),e._v("), the value of "),v("code",[e._v("this")]),e._v(" will either be "),v("code",[e._v("undefined")]),e._v(" in strict mode, or the global object (e.g. "),v("code",[e._v("window")]),e._v(") outside of strict mode. But you're probably in strict mode, so it's probably going to be "),v("code",[e._v("undefined")]),e._v(".")]),e._v(" "),v("li",[e._v("You can use a function's "),v("strong",[e._v("bind")]),e._v(" method to return a version of a function where "),v("code",[e._v("this")]),e._v(" will always equal the first argument to "),v("code",[e._v("bind")]),e._v(".")]),e._v(" "),v("li",[e._v("The value of "),v("code",[e._v("this")]),e._v(" within an "),v("strong",[e._v("arrow function")]),e._v(" will always equal the value of this at the time the function was created.")])]),e._v(" "),v("p",[e._v("接下来我根据我的理解来翻译上述5个规则：")]),e._v(" "),v("ol",[v("li",[e._v("当一个函数作为一个对象方法被调用时，函数内部"),v("code",[e._v("this")]),e._v("的值就是调用函数的那个对象。")]),e._v(" "),v("li",[e._v("当一个函数被"),v("code",[e._v("call()")]),e._v("或者"),v("code",[e._v("apply()")]),e._v("方法调用时，函数内部"),v("code",[e._v("this")]),e._v("的值为"),v("code",[e._v("call()")]),e._v("或"),v("code",[e._v("apply()")]),e._v("方法所提供的第一个参数。")]),e._v(" "),v("li",[e._v("当一个函数被它自身调用时（即没有以"),v("code",[e._v(".")]),e._v("开头）"),v("code",[e._v("this")]),e._v("的值在严格模式下为"),v("code",[e._v("undefined")]),e._v("在非严格模式下为全局对象（如"),v("code",[e._v("window")]),e._v("）。")]),e._v(" "),v("li",[e._v("使用"),v("strong",[e._v("bind")]),e._v("方法可以返回一个"),v("code",[e._v("this")]),e._v("值总是等于"),v("strong",[e._v("bind")]),e._v("所提供的第一个参数的“函数新版本”。")]),e._v(" "),v("li",[v("code",[e._v("箭头函数")]),e._v("中的"),v("code",[e._v("this")]),e._v("值将反映创建它的函数中的"),v("code",[e._v("this")]),e._v("值。（箭头函数没有"),v("code",[e._v("this")]),e._v("因此它会去外部词法环境查找）")])]),e._v(" "),v("p",[v("strong",[e._v("Beware：")])]),e._v(" "),v("p",[v("code",[e._v("setTimeout()")]),e._v("中第一个参数传递的是函数本身，因此"),v("code",[e._v("setTimeout(obj.method, ms)")]),e._v("中，"),v("code",[e._v("setTimeout")]),e._v("并没有链接到obj对象，所以这里相当于它自身调用，"),v("code",[e._v("this = undefined")]),e._v(".")])])}),[],!1,null,null,null);t.default=_.exports}}]);